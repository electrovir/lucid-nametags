{"version":3,"sources":["background.component.ts"],"names":[],"mappings":"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","file":"background.component.js","sourcesContent":["import {Component} from 'angular2/core';\nimport {Input} from 'angular2/core';\nimport {OnInit} from 'angular2/core';\n\nclass Point {\n  constructor(public x: number, public y: number) {}\n}\n\nclass Triangle {\n  constructor(public p1: Point, public p2: Point, public p3: Point, public opacity: number) {}\n  formattedPoints() {\n    return `${this.p1.x},${this.p1.y} ${this.p2.x},${this.p2.y} ${this.p3.x},${this.p3.y}`\n  }\n}\n\n@Component({\n  selector: 'nametag-background',\n  templateUrl: './app/background.component.html',\n})\nexport class BackgroundComponent {\n  @Input() color: string;\n\n  width: number;\n  height: number;\n  triangles: Triangle[];\n\n  ngOnInit() {\n    const dpi = 96;\n    this.width = 10.5 * dpi;\n    this.height = 13 * dpi;\n    const rows = 14;\n    const triangleHeight = this.height / rows;\n    const triangleWidth = triangleHeight * Math.sin(60 * Math.PI / 180);\n    const columns = Math.ceil(this.width / triangleWidth);\n\n    let allPoints: Point[][] = [];\n\n    for (let i = 0; i < columns; i++) {\n      let columnPoints = [];\n      for (let j = 0; j < rows; j++) {\n        columnPoints.push(new Point(\n          i * triangleWidth,\n          i % 2 === 0 ? j * triangleHeight : j * triangleHeight + triangleHeight/2\n        ));\n      }\n      allPoints.push(columnPoints);\n    }\n\n    let allTriangles: Triangle[] = [];\n\n    const cells = (rows-2) + (columns-1);\n\n    function getRandomBucketed(buckets) {\n      return Math.floor(Math.random() * (buckets + 1)) / buckets;\n    }\n\n    for (let column = 0; column < allPoints.length; column++) {\n      for (let row = 0; row < allPoints[column].length-1; row++) {\n        if (allPoints[column-1]) {\n          allTriangles.push(\n            new Triangle(\n              allPoints[column][row],\n              allPoints[column-1][(column % 2 === 0) ? row : row+1],\n              allPoints[column][row+1],\n              (1 - ((column + row) / cells)) * getRandomBucketed(15)\n            )\n          );\n        }\n        if (allPoints[column+1]) {\n          allTriangles.push(\n            new Triangle(\n              allPoints[column][row],\n              allPoints[column+1][(column % 2 === 0) ? row : row+1],\n              allPoints[column][row+1],\n              (1 - ((column + row) / cells)) * getRandomBucketed(15)\n            )\n          );\n        }\n      }\n    }\n\n    this.triangles = allTriangles;\n\n  }\n\n}\n"],"sourceRoot":"/source/"}